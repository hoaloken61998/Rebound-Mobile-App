<!-- src/app/reservation-detail/reservation-detail.component.html -->
<div class="form-container">
    <h1>Reservation Details</h1>

    <div *ngIf="isLoading" class="loading-indicator">Loading reservation data...</div>

    <div *ngIf="!isLoading && (reservationData.BookingID === undefined || reservationData.BookingID === null)">
        <p>No reservation found for this ID.</p>
    </div>

    <div *ngIf="!isLoading && (reservationData.BookingID !== undefined && reservationData.BookingID !== null)">
        <fieldset>
            <legend class="info">Customer Information</legend>
            <div class="row">
                <div class="col">
                    <label for="customerName">Customer Name</label>
                    <p id="customerName">{{ customerData.FullName || 'N/A' }}</p>
                </div>
                <div class="col">
                    <label for="phoneNumber">Phone Number</label>
                    <p id="phoneNumber">{{ customerData.PhoneNumber || 'N/A' }}</p>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <label for="email">Email Address</label>
                    <p id="email">{{ customerData.Email || 'N/A' }}</p>
                </div>
                <div class="col">
                    <label for="dob">Date of Birth</label>
                    <p id="dob">{{ formatDateOfBirth(customerData.DateOfBirth) }}</p>
                </div>
            </div>
        </fieldset>

        <fieldset>
            <legend class="info">Reservation Details</legend>
            <!-- Booking ID -->
            <label for="bookingId">Booking ID</label>
            <p id="bookingId">{{ reservationData.BookingID || 'N/A' }}</p>

            <div class="row">
                <div class="col">
                    <label for="appointmentDate">Appointment Date & Time</label>
                    <p id="appointmentDate">{{ formatBookingTime(reservationData.BookingTime) }}</p>
                </div>
                <div class="col">
                    <label for="serviceType">Service Type</label>
                    <p id="serviceType">{{ serviceData.ServiceType || 'N/A' }}</p> <!-- Changed to ServiceType -->
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <label for="reservationLocation">Rebound Branch</label>
                    <!-- Using new helper function to display branch name -->
                    <p id="reservationLocation">{{ getBranchName(branchData) }}</p> 
                </div>
                <div class="col">
                    <label for="status">Status</label>
                    <p id="status">{{ reservationData.Status || 'N/A' }}</p>
                </div>
            </div>

            <label for="specialRequests">Special Requests/Notes</label>
            <p id="specialRequests">{{ reservationData.SpecialRequests || 'N/A' }}</p>
        </fieldset>

        <div class="action-buttons">
            <button class="btn" (click)="goBack()">Back</button>
        </div>
    </div>
</div>
